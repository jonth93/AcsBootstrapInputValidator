"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){var n;if(o)return"string"==typeof o?_arrayLikeToArray(o,minLen):"Map"===(n="Object"===(n=Object.prototype.toString.call(o).slice(8,-1))&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _toPropertyKey(arg){arg=_toPrimitive(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.is-array.js"),require("core-js/modules/es.symbol.iterator.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.date.to-string.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.from.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.string.trim.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.string.includes.js"),require("core-js/modules/es.array.join.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.number.constructor.js"),require("core-js/modules/es.array.every.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/web.url.js"),require("core-js/modules/web.url-search-params.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.regexp.constructor.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.symbol.to-primitive.js"),require("core-js/modules/es.date.to-primitive.js"),require("core-js/modules/es.symbol.js"),require("core-js/modules/es.symbol.description.js");var InputValidator=exports.default=function(){function InputValidator(){_classCallCheck(this,InputValidator)}return _createClass(InputValidator,null,[{key:"validateInput",value:function(element,validationParams,validationMessages){var errorMessages=[];return validationParams.required&&""===element.value.trim()&&errorMessages.push((null==validationMessages?void 0:validationMessages.required)||"Value is required."),validationParams.hasOwnProperty("min-char")&&element.value.length<validationParams["min-char"]&&errorMessages.push((null==validationMessages?void 0:validationMessages["min-char"])||"Minimum ".concat(validationParams["min-char"]," characters required.")),validationParams.hasOwnProperty("max-char")&&element.value.length>validationParams["max-char"]&&errorMessages.push((null==validationMessages?void 0:validationMessages["max-char"])||"Cannot be more than ".concat(validationParams["max-char"]," characters.")),validationParams.in&&!validationParams.in.includes(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.in)||"Invalid value."),validationParams.ipv4&&!this.isValidIpAddress(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.ipv4)||"Invalid IPv4 address."),validationParams.email&&!this.isValidEmail(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.email)||"Invalid email address."),validationParams.url&&!this.isValidURL(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.url)||"Invalid URL."),validationParams.numeric&&!this.isNumeric(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.numeric)||"Invalid number. Please enter a numeric value."),validationParams.hasOwnProperty("numeric-range")&&!this.isNumericInRange(element.value,validationParams["numeric-range"].min,validationParams["numeric-range"].max)&&errorMessages.push((null==validationMessages?void 0:validationMessages["numeric-range"])||"Invalid number."),validationParams.date&&!this.isValidDate(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.date)||"Invalid date format."),validationParams.strongPassword&&!this.isStrongPassword(element.value)&&errorMessages.push((null==validationMessages?void 0:validationMessages.strongPassword)||"Not strong enough. Minimum 8 characters, at least one uppercase letter, one lowercase letter, and one number."),validationParams.equalTo&&!this.isEqualTo(element.value,validationParams.equalTo)&&errorMessages.push((null==validationMessages?void 0:validationMessages.equalTo)||"Input value does not match."),validationParams.customRegex&&!this.customRegexValidation(element.value,validationParams.customRegex)&&errorMessages.push((null==validationMessages?void 0:validationMessages.customRegex)||"Custom validation failed."),this.updateErrorMessages(element,errorMessages),0===errorMessages.length}},{key:"updateErrorMessages",value:function(element,errorMessages){var inputGroupDiv=element.closest(".input-group"),invalidFeedbackDiv=inputGroupDiv?inputGroupDiv.querySelector(".input-group-append + .invalid-feedback"):element.nextElementSibling,inputGroupAppendDiv=(invalidFeedbackDiv&&invalidFeedbackDiv.classList.contains("invalid-feedback")||((invalidFeedbackDiv=document.createElement("div")).classList.add("invalid-feedback"),inputGroupDiv?(inputGroupAppendDiv=inputGroupDiv.querySelector(".input-group-append"))?inputGroupAppendDiv.insertAdjacentElement("afterend",invalidFeedbackDiv):inputGroupDiv.appendChild(invalidFeedbackDiv):element.insertAdjacentElement("afterend",invalidFeedbackDiv)),0<errorMessages.length?errorMessages.join("<br>"):"Please provide a valid input.");invalidFeedbackDiv.innerHTML=inputGroupAppendDiv,0<errorMessages.length?this.addInvalidClass(element):this.removeInvalidClass(element)}},{key:"addInvalidClass",value:function(element){element.classList.remove("is-valid"),element.classList.add("is-invalid")}},{key:"removeInvalidClass",value:function(element){element.classList.remove("is-invalid"),element.classList.add("is-valid")}},{key:"isValidIpAddress",value:function(ipAddress){var ipAddress=_slicedToArray(ipAddress.split("/"),2),ip=ipAddress[0],ipAddress=ipAddress[1],ip=ip.split(".").map(Number),ip=4===ip.length&&ip.every(function(octet){return 0<=octet&&octet<=255}),ipAddress=void 0===ipAddress||""!==ipAddress&&0<=Number(ipAddress)&&Number(ipAddress)<=32;return ip&&ipAddress}},{key:"isValidEmail",value:function(email){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)}},{key:"isValidURL",value:function(url){try{return new URL(url),!0}catch(error){return!1}}},{key:"isNumeric",value:function(value){return!isNaN(parseFloat(value))&&isFinite(value)}},{key:"isNumericInRange",value:function(value,min,max){value=parseFloat(value);return!isNaN(value)&&min<=value&&value<=max}},{key:"isValidDate",value:function(dateString){return/^(?:(?:\d{4}-\d{2}-\d{2})|(?:\d{2}-\d{2}-(?:\d{4}|\d{2})))$/.test(dateString)}},{key:"customRegexValidation",value:function(inputValue,regexPattern){return new RegExp(regexPattern).test(inputValue)}},{key:"isStrongPassword",value:function(password){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(password)}},{key:"isEqualTo",value:function(inputValue,equalValue){return inputValue===equalValue}}]),InputValidator}();